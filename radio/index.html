<!DOCTYPE html>
<html>
<head>
<title>[foobar6000]</title>
<link rel="stylesheet" href="https://unpkg.com/7.css">
<link rel="shortcut icon" href="https://www.foobar2000.org/favicon.ico">
<style>
body {background:url('https://i.redd.it/1lu31x1angtb1.jpg'); background-size: cover;
  background-attachment: fixed;
  background-repeat: no-repeat;}
  .center {
  /* Center vertically and horizontally */
  position: absolute;
  top: 50%;
  left: 50%;
  margin: -25px 0 0 -25px; /* Apply negative top and left margins to truly center the element */
}
</style>
</head>
<body>
<div class="window glass active center" style="max-width: 600px">
  <div class="title-bar">
    <div class="title-bar-text"><span id="awesome"></span> [foobar6000]</div>
    <div class="title-bar-controls">
      <button aria-label="Minimize" onclick="hide();"></button>
    </div>
  </div>
  <div class="window-body" id="funny">
  <ul role="menubar">
  <li role="menuitem" tabindex="0">File</li>
  <li role="menuitem" tabindex="0">Edit</li>
  <li role="menuitem" tabindex="0">View</li>
  <li role="menuitem" tabindex="0">Playback</li>
  <li role="menuitem" tabindex="0">Library</li>
  <li role="menuitem" tabindex="0">Help</li>
</ul><br>
    <section class="tabs">
  <menu role="tablist" aria-label="Tabs Template">
    <button role="tab" aria-controls="tab-A" aria-selected="true">Internet Radio</button>
  </menu>
  <article role="tabpanel" id="tab-A"><center><audio src="https://www.radioking.com/play/lexio-fm" controls preload width="10px"></audio><br></center></article>
</section>
  </div>
  <div class="status-bar">
    <p class="status-bar-field"><small>software link: https://api.radioking.io/radio/634198/listen.m3u</small></p>
    <p class="status-bar-field"><small>yes i know i'm running it on a shitty free radio service shut up</small></p>
  </div>
</div>
<script>
var storedText;
setInterval(fetchlol, 1000);
function fetchlol() {
	fetch('https://api.radioking.io/widget/radio/lexio-fm/track/current')
	  .then(function(response) {
	    response.text().then(function(text) {
	      storedText = text;
	      done()
	    });
	  });
}
  
function done() {
	const obj = JSON.parse(storedText);
	document.getElementById("awesome").innerHTML =
	obj.artist + " - " + obj.title;
}
function hide() {
	if (document.getElementById("funny").style.display === "none") {
   		document.getElementById("funny").style.display = "block"
	} else {document.getElementById("funny").style.display = "none"}
}
</script>
</body>
</html>
